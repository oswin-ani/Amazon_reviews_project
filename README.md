# Приложение для анализа тональности отзывов Amazon

## О проекте

Приложение с графическим интерфейсом для автоматического определения тональности текстовых отзывов (положительная/отрицательная) на английском языке. Включает визуализацию результатов в виде интерактивного ползунка, а также расширенную статистику: гистограммы ключевых слов и облака слов для каждого класса тональности.

**Авторы:**  
Свиридова Анна Анатольевна, Меньшикова Елизавета Григорьевна, Панченко Артем Максимович  
Группа БИВ248, НИУ ВШЭ (Московский институт электроники и математики)  
**Руководитель:** Ролич Алексей Юрьевич  
**Год:** 2025

---

## Для пользователей

### Установка и запуск

1. **Скачайте** архив `main.rar` из релиза проекта.
2. **Разархивируйте** архив в удобную папку.
3. **Запустите** файл `main.exe` из папки `output/main`.

**Системные требования:**
- ОС: Windows 7+, Linux, macOS 10.12+
- Python 3.7+ (если запуск через исходный код)
- 182 МБ свободного места

### Использование приложения

#### Главное окно:
- **Текстовое поле** — введите или вставьте отзыв.
- **Кнопка "Загрузить файл"** — загрузите `.txt` файл с отзывом.
- **Ползунок тональности** — показывает результат: красная зона = отрицательный, зелёная = положительный.
- **Метка результата** — текстовое подтверждение тональности.
- **Кнопка "Открыть расширенную статистику"** — открывает окно с графиками.

#### Окно статистики:
- 2 гистограммы: топ-10 слов для положительных и отрицательных отзывов.
- 2 облака слов: частотные слова для каждого класса тональности.

---

## Для разработчиков

### Технологии

- **Язык:** Python 3.7+
- **Библиотеки:**  
  `pandas`, `scikit-learn`, `numpy`, `matplotlib`, `wordcloud`, `tkinter`, `kagglehub`, `setuptools`, `wheel`, `auto-py-to-exe`

### Модель машинного обучения

- **Векторизатор:** `TfidfVectorizer` (юниграммы, 2^14 признаков)
- **Классификатор:** `SGDClassifier` с вероятностным выводом
- **Точность на тесте:** 87.67%
- **Диапазон предсказания:** от -1 (отрицательный) до +1 (положительный)

### Структура проекта

```
project/
├── main.py                 # Главное окно (View)
├── model_utils.py          # Загрузка модели и предсказание (Model)
├── stats_window.py         # Окно статистики (View)
├── amazonVectorizer_1.1.pkl # Сохранённый векторизатор
├── amazonSGD_1.1.pkl       # Сохранённая модель
├── media/                  # Графики для статистики
├── setup.py               # Конфигурация сборки библиотеки
└── output/main/           # Папка с исполняемым файлом
```

### Сборка и запуск

#### Установка зависимостей:
```bash
pip install -r requirements.txt
```

#### Обучение модели:
Запустите ноутбук/скрипт обучения, чтобы заново обучить модель и векторизатор (см. раздел "Обучение модели" в руководстве разработчика).

#### Создание библиотеки:
```bash
python setup.py bdist_wheel
```
Библиотека появится в папке `dist/`.

#### Создание .exe файла:
1. Установите `auto-py-to-exe`:
```bash
pip install auto-py-to-exe
```
2. Запустите:
```bash
auto-py-to-exe
```
3. В интерфейсе выберите `main.py`, режим `One Directory`, добавьте необходимые файлы (модель, векторизатор, графики).

### Использование библиотеки

```python
from model_utils import load_vectorizer, load_model, predict_sentiment

vectorizer = load_vectorizer()
model = load_model()
confidence, label = predict_sentiment("This product is amazing!", vectorizer, model)
```

---

## Источники данных и инструменты

1. Датасет отзывов Amazon: [Kaggle](https://www.kaggle.com/datasets/kritanjalijain/amazon-reviews)
2. Документация scikit-learn: [TfidfVectorizer](https://scikit-learn.org/stable/modules/generated/sklearn.feature_extraction.text.TfidfVectorizer.html), [SGDClassifier](https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.SGDClassifier.html)

---